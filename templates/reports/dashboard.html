{% extends "master/admin.html" %}

{% block script %}
<script type="text/javascript" src="/static/vendor/highcharts/js/highcharts.js"></script>
<script type="text/javascript" src="/static/vendor/highcharts/js/modules/exporting.js"></script>
{% endblock %}

{% block head %}
  <h3>Dashboard</h3>
{% endblock %}

{% block content %}
<div class="container">
  <div class="dash-wrapper">
    <div class="dash-title">
      <h3>Today</h3>
    </div>
    <div class="row">
      <div class="col-md-4">
        <div class="panel panel-default">
          <div class="panel-heading"><strong>Summary</strong></div>
          <div class="panel-alt">
            <table class="table table-hover">
              <tr>
                <td width="10%"><i class="fa fa-tag fa-2x"></i></td>
                <td>Total Amount (THB)</td>
                <td align="right" style="font-size:18px">$@{summary.total_amount|number:2}</td>
              </tr>
              <tr>
                <td width="10%"><i class="fa fa-dollar fa-2x"></i></td>
                <td>Total Revenue (THB)</td>
                <td align="right" style="color:green; font-size:18px">$@{summary.total_revenue|number:2}</td>
              </tr>
              <tr>
                <td width="10%"><i class="fa fa-shopping-cart fa-2x"></i></td>
                <td>Total Orders</td>
                <td align="right" style="font-size:18px">@{summary.total_orders|number:0}</td>
              </tr>
              <tr>
                <td width="10%"><i class="fa fa-users fa-2x"></i></td>
                <td>Total Customer</td>
                <td align="right" style="font-size:18px">@{summary.total_customer|number:0}</td>
              </tr>
            </table>
          </div>
        </div>
      </div>
      <div class="col-md-4">
        <div class="panel panel-default">
          <div class="panel-heading"><strong>Top Sale by Branch</strong></div>
          <div class="panel-alt">
            <table class="table table-hover">
              <thead>
                <tr>
                  <th width="60%">Branch</th>
                  <th style="text-align:right">Qty</th>
                  <th style="text-align:right">Amount</th>
                </tr>
              </thead>
              <tbody>
                <tr ng-repeat="b in branches">
                  <td><a href="/admin/branch/form/@{b.branch_id}">@{b.name}</a></td>
                  <td align="right">@{b.total_qty|number:0}</td>
                  <td align="right">$@{b.total_amount|number:0}</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
      <div class="col-md-4">
        <div class="panel panel-default">
          <div class="panel-heading"><strong>Top 5 Popular Products</strong></div>
          <div class="panel-alt">
            <table class="table table-hover">
              <thead>
                <tr>
                  <th width="60%">Product</th>
                  <th style="text-align:right">Qty</th>
                  <th style="text-align:right">Amount</th>
                </tr>
              </thead>
              <tbody>
                <tr ng-repeat="p in products">
                  <td><a href="/admin/product/form/@{p.product_id}">@{p.name}</a></td>
                  <td align="right">@{p.total_qty|number:0}</td>
                  <td align="right">$@{p.total_amount|number:2}</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="dash-wrapper">
    <div class="dash-title">
      <div class="btn-group btn-group-sm pull-right">
        <button type="button" class="btn btn-default" id="weekly">Weekly</button>
        <button type="button" class="btn btn-default" id="monthly">Monthly</button>
        <button type="button" class="btn btn-default" id="yearly">Yearly</button>
      </div>
      <h3>History</h3>
    </div>
    <div class="row">
      <div class="col-md-12">
        <div class="panel panel-default">
          <div class="panel-heading"><strong>Revenue Chart</strong></div>
          <div class="panel-alt">
              <div id="container" style="margin: 0 auto"></div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<script type="text/javascript" src="/static/app/dashboard/dashboard.js"></script>
{% endblock %}
